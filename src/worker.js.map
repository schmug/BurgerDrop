{"version":3,"file":"worker.js","sources":["game/worker-final.js"],"sourcesContent":["// Cloudflare Worker - Final bundled version\nimport htmlTemplate from './templates/index.html';\nimport cssContent from './templates/styles.css';\nimport gameBundle from '../build/game.iife.js';\n\n// Cloudflare Worker event listener\naddEventListener('fetch', event => {\n  event.respondWith(handleRequest(event.request))\n})\n\nasync function handleRequest(request) {\n  const url = new URL(request.url)\n  \n  // Serve the game HTML file for all requests\n  if (url.pathname === '/' || url.pathname === '/index.html') {\n    // Build the HTML with CSS injected\n    let html = htmlTemplate.replace('{{CSS_CONTENT}}', cssContent);\n    \n    // Inject the game bundle\n    const gameScript = `<script>${gameBundle}</script>`;\n    \n    // Replace the script section in the HTML\n    html = html.replace(/<script>[\\s\\S]*?<\\/script>/, gameScript);\n\n    return new Response(html, {\n      headers: {\n        'content-type': 'text/html;charset=UTF-8',\n        'Cache-Control': 'public, max-age=3600'\n      }\n    })\n  }\n\n  // Return 404 for other paths\n  return new Response('Not Found', { status: 404 })\n}"],"names":[],"mappings":";;;;;;;;AAAA;;AAKA;AACA,gBAAgB,CAAC,OAAO,EAAE,KAAK,IAAI;AACnC,EAAE,KAAK,CAAC,WAAW,CAAC,aAAa,CAAC,KAAK,CAAC,OAAO,CAAC;AAChD,CAAC;;AAED,eAAe,aAAa,CAAC,OAAO,EAAE;AACtC,EAAE,MAAM,GAAG,GAAG,IAAI,GAAG,CAAC,OAAO,CAAC,GAAG;AACjC;AACA;AACA,EAAE,IAAI,GAAG,CAAC,QAAQ,KAAK,GAAG,IAAI,GAAG,CAAC,QAAQ,KAAK,aAAa,EAAE;AAC9D;AACA,IAAI,IAAI,IAAI,GAAG,YAAY,CAAC,OAAO,CAAC,iBAAiB,EAAE,UAAU,CAAC;AAClE;AACA;AACA,IAAI,MAAM,UAAU,GAAG,CAAC,QAAQ,EAAE,UAAU,CAAC,SAAS,CAAC;AACvD;AACA;AACA,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,4BAA4B,EAAE,UAAU,CAAC;;AAEjE,IAAI,OAAO,IAAI,QAAQ,CAAC,IAAI,EAAE;AAC9B,MAAM,OAAO,EAAE;AACf,QAAQ,cAAc,EAAE,yBAAyB;AACjD,QAAQ,eAAe,EAAE;AACzB;AACA,KAAK;AACL;;AAEA;AACA,EAAE,OAAO,IAAI,QAAQ,CAAC,WAAW,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE;AAClD"}